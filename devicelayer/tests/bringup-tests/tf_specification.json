{
    "name":"TF_Specification",
    "version": "v.0.1",
    "description": "Test command response specification used for Silicon  Bringup test Framework (TF)",

    "protocol.description":"<name,value> tuples used as protocol params for serial and fifo DUT iface",
    "protocol": {
        "overhead":7,
        "body_start":36,
        "body_end":35,
        "crc_end":37,
        "command_only":1,
        "command_with_payload":2,
        "command_with_payload_next":4,
        "response_only":8,
        "response_with_payload":16,
        "response_with_payload_next":32,
        "header_size":8,
        "hdr_id_bytes":2,
        "hdr_flags_bytes":2,
        "hdr_payloadSize_bytes":4,
        "id_idx":1,
        "flags_idx":3,
        "payload_size_idx":5
    }, 

    "command_ids.description":"List of unique test command names and their associated id, note both name and id should be unique",
    "command_ids": {
        "TF_CMD_OFFSET":0,
        "TF_CMD_SP_FW_VERSION":1,
        "TF_CMD_MM_FW_VERSION":2,
        "TF_CMD_ECHO_TO_SP":3,
        "TF_CMD_ECHO_TO_MM":4,
        "TF_CMD_MOVE_DATA_TO_DEVICE":5,
        "TF_CMD_MOVE_DATA_To_HOST":6,
        "TF_CMD_SPIO_RAM_READ_WORD":7,
        "TF_CMD_SPIO_RAM_WRITE_WORD":8,
        "TF_CMD_SPIO_SPI_FLASH_INIT":9,
        "TF_CMD_SPIO_SPI_FLASH_READ_WORD":10,
        "TF_CMD_SPIO_SPI_FLASH_WRITE_WORD":11,
        "TF_CMD_SPIO_OTP_INIT":12,
        "TF_CMD_SPIO_OTP_READ_WORD":13,
        "TF_CMD_SPIO_OTP_WRITE_WORD":14,
        "TF_CMD_SPIO_VAULT_INIT":15,
        "TF_CMD_SPIO_VAULT_COMMAND_ISSUE":16,
        "TF_CMD_SPIO_I2C_INIT":17,
        "TF_CMD_SPIO_I2C_PMIC_READ":18,
        "TF_CMD_SPIO_I2C_PMIC_WRITE":19,
        "TF_CMD_PU_UART_INIT":20,
        "TF_CMD_PU_SRAM_READ_WORD":21,
        "TF_CMD_PU_SRAM_WRITE_WORD":22,
        "TF_CMD_PCIE_PSHIRE_INIT":23,
        "TF_CMD_PCIE_PSHIRE_VOLTAGE_UPDATE":24,
        "TF_CMD_PCIE_PSHIRE_PLL_PROGRAM":25,
        "TF_CMD_PCIE_PSHIRE_NOC_UPDATE_ROUTING_TABLE":26,
        "TF_CMD_PCIE_CNTR_INIT":27,
        "TF_CMD_PCIE_PHY_INIT":28,
        "TF_CMD_NOC_VOLTAGE_UPDATE":29,
        "TF_CMD_NOC_PLL_PROGRAM":30,
        "TF_CMD_NOC_ROUTING_TABLE_UPDATE":31,
        "TF_CMD_MEM_MEMSHIRE_PLL_PROGRAM":32,
        "TF_CMD_MEM_MEMSHIRE_VOLTAGE_UPDATE":33,
        "TF_CMD_MEM_MEMSHIRE_INIT":34,
        "TF_CMD_MEM_DDR_CNTR_INIT":35,
        "TF_CMD_MEM_DDR_READ":36,
        "TF_CMD_MEM_DDR_WRITE":37,
        "TF_CMD_MINION_STEP_CLOCK_PLL_PROGRAM":38,
        "TF_CMD_MINION_VOLTAGE_UPDATE":39,
        "TF_CMD_MINION_SHIRE_ENABLE":40,
        "TF_CMD_MINION_SHIRE_BOOT":41,
        "TF_CMD_MINION_KERNEL_LAUNCH":42,
        "TF_CMD_MINION_ESR_READ":43,
        "TF_CMD_MINION_ESR_WRITE":44,
        "TF_CMD_MM_TESTS_OFFSET":45
    },

    "response_ids.description":"List of unique test response names and their associated id each correspond to respective command, note both name and id should be unique",
    "response_ids": {
        "TF_RSP_OFFSET":256,
        "TF_RSP_SP_FW_VERSION":257,
        "TF_RSP_MM_FW_VERSION":258,
        "TF_RSP_ECHO_TO_SP":259,
        "TF_RSP_ECHO_TO_MM":260,
        "TF_RSP_MOVE_DATA_TO_DEVICE":261,
        "TF_RSP_MOVE_DATA_To_HOST":262,
        "TF_RSP_SPIO_RAM_READ_WORD":263,
        "TF_RSP_SPIO_RAM_WRITE_WORD":264,
        "TF_RSP_SPIO_SPI_FLASH_INIT":265,
        "TF_RSP_SPIO_SPI_FLASH_READ_WORD":266,
        "TF_RSP_SPIO_SPI_FLASH_WRITE_WORD":267,
        "TF_RSP_SPIO_OTP_INIT":268,
        "TF_RSP_SPIO_OTP_READ_WORD":269,
        "TF_RSP_SPIO_OTP_WRITE_WORD":270,
        "TF_RSP_SPIO_VAULT_INIT":271,
        "TF_RSP_SPIO_VAULT_COMMAND_ISSUE":272,
        "TF_RSP_SPIO_I2C_INIT":273,
        "TF_RSP_SPIO_I2C_PMIC_READ":274,
        "TF_RSP_SPIO_I2C_PMIC_WRITE":275,
        "TF_RSP_PU_UART_INIT":276,
        "TF_RSP_PU_SRAM_READ_WORD":277,
        "TF_RSP_PU_SRAM_WRITE_WORD":278,
        "TF_RSP_PCIE_PSHIRE_INIT":279,
        "TF_RSP_PCIE_PSHIRE_VOLTAGE_UPDATE":280,
        "TF_RSP_PCIE_PSHIRE_PLL_PROGRAM":281,
        "TF_RSP_PCIE_PSHIRE_NOC_UPDATE_ROUTING_TABLE":282,
        "TF_RSP_PCIE_CNTR_INIT":283,
        "TF_RSP_PCIE_PHY_INIT":284,
        "TF_RSP_NOC_VOLTAGE_UPDATE":285,
        "TF_RSP_NOC_PLL_PROGRAM":286,
        "TF_RSP_NOC_ROUTING_TABLE_UPDATE":287,
        "TF_RSP_MEM_MEMSHIRE_PLL_PROGRAM":288,
        "TF_RSP_MEM_MEMSHIRE_VOLTAGE_UPDATE":289,
        "TF_RSP_MEM_MEMSHIRE_INIT":290,
        "TF_RSP_MEM_DDR_CNTR_INIT":291,
        "TF_RSP_MEM_DDR_READ":292,
        "TF_RSP_MEM_DDR_WRITE":293,
        "TF_RSP_MINION_STEP_CLOCK_PLL_PROGRAM":294,
        "TF_RSP_MINION_VOLTAGE_UPDATE":295,
        "TF_RSP_MINION_SHIRE_ENABLE":296,
        "TF_RSP_MINION_SHIRE_BOOT":297,
        "TF_RSP_MINION_KERNEL_LAUNCH":298,
        "TF_RSP_MINION_ESR_READ":299,
        "TF_RSP_MINION_ESR_WRITE":300,
        "TF_RSP_MM_TESTS_OFFSET":301,
        "TF_RSP_UNSUPPORTED_COMMAND":512
    },

    "cdata_types.description":"Size of c data types in bytes used by device software to pack test related commands and responses",
    "cdata_types": {
        "uint8_t":1,
        "uint16_t":2,
        "uint32_t":4,
        "uint64_t":8,
        "int8_t":1,
        "int16_t":2,
        "int32_t":4,
        "int64_t":8
    },

    "cmd_hdr": {
        "id":"uint16_t",
        "flags":"uint16_t",
        "payload_size":"uint32_t"
    },

    "rsp_hdr": {
        "id":"uint16_t",
        "flags":"uint16_t",
        "payload_size":"uint32_t"
    },

    "cmds.description":"Command bindings to be used by test writers, this tell the test write teh expected format for command args, <tf_specification instance>.command(<command_name>,payload_args...)",
    "cmds.instruction":"Define flags using values for protocol.command_only, protocol.command_with_payload, or protocol.command_with_payload_next. Define payload size in bytes, 0 if no payload args. Define <name><type> tuples for payload args.",
    "cmds": {
        "TF_CMD_SP_FW_VERSION": {
            "flags":1,
            "payload_size":0,
            "payload_args": {
            }
        },
        "TF_CMD_MM_FW_VERSION": {
            "flags":1,
            "payload_size":0,
            "payload_args": {
            }
        },
        "TF_CMD_ECHO_TO_SP": {
            "flags":2,
            "payload_size":4,
            "payload_args": {
                "cmd_payload":"uint32_t"
            }
        },
        "TF_CMD_ECHO_TO_MM": {
            "flags":2,
            "payload_size":4,
            "payload_args": {
                "cmd_payload":"uint32_t"
            }
        }
    },  

    "rsps.description":"Response bindings to be used by test writers to assert on results, this tells the test writer the expected format for response args",
    "rsps": {
        "TF_RSP_SP_FW_VERSION": {
            "flags":2,
            "payload_size":12,
            "payload_args": {
                "major":"uint32_t",
                "minor":"uint32_t",
                "revision":"uint32_t"
            }
        },
        "TF_RSP_MM_FW_VERSION": {
            "flags":2,
            "payload_size":12,
            "payload_args": {
                "major":"uint32_t",
                "minor":"uint32_t",
                "revision":"uint32_t"
            }
        },
        "TF_RSP_ECHO_TO_SP": {
            "flags":2,
            "payload_size":4,
            "payload_args": {
                "cmd_payload":"uint32_t"
            }
        },
        "TF_RSP_ECHO_TO_MM": {
            "flags":2,
            "payload_size":4,
            "payload_args": {
                "cmd_payload":"uint32_t"
            }
        }
    }
}